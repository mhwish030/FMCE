<!DOCTYPE html>
<!-- saved from url=(0047)https://html-weight-calculator-fzl1.vercel.app/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/calculator.css" rel="stylesheet" type="text/css">
    <title>Document</title>
  </head>
  <body>
    <div class="graph-wrapper">
      <div class="text-size-medium align-center">
        Enter your current weight (lbs)
      </div>
      <div class="weight-loss-form">
        <form id="wf-form-Weight-Graph" name="wf-form-Weight-Graph" data-name="Weight Graph" method="get" data-wf-page-id="64e3ac7bd2411ed0b1046a9c" data-wf-element-id="1fdaa81d-6721-7d8e-c389-10cb4b8ac5e3" onsubmit="return false;">
          <input type="number" class="form-input is-taller is-graph w-input" max="700" maxlength="256" name="Weight-2" data-name="Weight 2" min="140" placeholder="" id="Weight-2" required="">
        </form>
        <div class="w-form-done">
          <div>Thank you! Your submission has been received!</div>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
      <div class="range_wrap">
        <div class="range-slider w-embed">
          <input type="range" min=".28" max="1" value="0" step="0.01" class="slider" id="myRange">
        </div>
      </div>
      <div class="weight-chart-wrapper">
        <div class="text-size-large">Your predicted weight loss</div>
        <div class="weight-loss-prediction-text gradient">
          -<span id="weightlossNumber" class="text-span">23</span> lbs
        </div>
      </div>
    </div>

    <script src="/js/jquery-3.5.1.min.dc5e7f18c8.js" type="text/javascript" crossorigin="anonymous"></script>

    <!-- Calculator -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        //calculator slider
        if (document.querySelector(".graph-wrapper")) {
          const weightLossElement = document.getElementById("weightlossNumber");
          const graphInput = document.querySelector("input.is-graph");

          const maxValue = 500;
          graphInput.value = 244;

          let rangeSlider = document.getElementById("myRange");
          rangeSlider.value = graphInput.value / maxValue;

          $("#myRange").on("input change", function () {
            let rangeValue = $(this).val();
            const value = (rangeValue * maxValue).toFixed(0);
            graphInput.value = value < 140 ? 140 : value;
            graphInput.dispatchEvent(new Event("input"));
          });

          graphInput.addEventListener("input", () => {
            if (graphInput.value > maxValue) {
              graphInput.value = maxValue;
            }

            rangeSlider.value = graphInput.value / maxValue;

            const inputValue = graphInput.value;
            const startValue = parseFloat(weightLossElement.textContent);
            const endValue = getAdjustedWeight(inputValue);
            const duration = 800; // in milliseconds
            let startTime = null;

            function animate(timestamp) {
              if (!startTime) startTime = timestamp;
              const elapsedTime = timestamp - startTime;
              const progress = Math.min(elapsedTime / duration, 1);
              const currentValue =
                startValue + (endValue - startValue) * progress;
              weightLossElement.textContent = currentValue.toFixed(0);
              if (progress < 1) {
                requestAnimationFrame(animate);
              }
            }

            requestAnimationFrame(animate);
          });

          disableForm("weight-loss-form", "wf-form-Weight-Graph");

          function disableForm(className, formId) {
            // disable WF Form
            document
              .getElementsByClassName(className)[0]
              .classList.remove("w-form");

            // disable default form
            document
              .getElementById(formId)
              .setAttribute("onSubmit", "return false;");
          }

          function getAdjustedWeight(weight) {
            const minValue = 123;
            const result = Math.floor(0.85 * weight);
            const finalValue = Math.max(
              0,
              weight - (result < minValue ? minValue : result)
            );
            return Math.min(finalValue, weight);
          }
        }
      });
    </script>
  

</body></html>